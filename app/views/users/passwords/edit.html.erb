<div class="auth__form">
  <% if resource_has_error? resource, :reset_password_token, :invalid %>
    <div class="alert alert-warning alert-dismissable">
      <button aria-hidden="true" class="close" data-dismiss="alert">&times;</button>
      <h4>
        <%= I18n.t 'auth.reset.invalid_title' %>
      </h4>
      <p>
        <%= I18n.t 'auth.reset.invalid_message' %>
      </p>
    </div>
    <p>
      <%= link_to I18n.t('auth.forgot.submit'), new_password_path(resource_name), class: 'btn btn-primary' %>
    </p>
  <% else %>
    <h2>
      <%= I18n.t 'auth.reset.link' %>
    </h2>
    <%= simple_form_for resource, as: resource_name, url: password_path(resource_name), method: :put do |f| %>
      <%= devise_error_messages! %>
      <%= f.hidden_field :reset_password_token %>
      <%= f.input :password, autofocus: true, required: true, hint: false %>
      <%= f.button :submit, I18n.t('auth.reset.submit'), class: 'btn-primary' %>
    <% end %>
  <% end %>
  <%= render "users/shared/links" %>
</div>
